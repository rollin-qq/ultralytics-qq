# Ultralytics YOLO ğŸš€, GPL-3.0 license
# Default training settings and hyperparameters for medium-augmentation COCO training

task: detect  # inference task, i.e. detect, segment, classify
mode: train  # YOLO mode, i.e. train, val, predict, export

# Train settings -------------------------------------------------------------------------------------------------------
model:  # path to model file, i.e. yolov8n.pt, yolov8n.yaml
data:  # path to data file, i.e. i.e. coco128.yaml
epochs: 100  # number of epochs to train for
patience: 50  # epochs to wait for no observable improvement for early stopping of training
batch: 16  # number of images per batch (-1 for AutoBatch)
imgsz: 640  # size of input images as integer or w,h
save: True  # save train checkpoints and predict results
cache: False  # True/ram, disk or False. Use cache for data loading
device:  # device to run on, i.e. cuda device=0 or device=0,1,2,3 or device=cpu
workers: 8  # number of worker threads for data loading (per RANK if DDP)
project:  # project name
name:  # experiment name
exist_ok: False  # whether to overwrite existing experiment
pretrained: False  # whether to use a pretrained modelæ˜¯å¦ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ã€‚
optimizer: SGD  # optimizer to use, choices=['SGD', 'Adam', 'AdamW', 'RMSProp']
verbose: True  # whether to print verbose output
seed: 0  # random seed for reproducibility
deterministic: True  # whether to enable deterministic mode
single_cls: False  # train multi-class data as single-classå°†å¤šç±»æ•°æ®è§†ä¸ºå•ç±»è¿›è¡Œè®­ç»ƒ
image_weights: False  # use weighted image selection for training
rect: False  # support rectangular training
cos_lr: False  # use cosine learning rate schedulerä½¿ç”¨ä½™å¼¦å­¦ä¹ ç‡è°ƒåº¦ç¨‹åº
close_mosaic: 10  # disable mosaic augmentation for final 10 epochsåœ¨æœ€å 10 è½®ç¦ç”¨æ‹¼è´´å¢å¼º
resume: False  # resume training from last checkpointä»ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹æ¢å¤è®­ç»ƒ
# Segmentation
overlap_mask: True  # masks should overlap during training (segment train only)
mask_ratio: 4  # mask downsample ratio (segment train only)
# Classification
dropout: 0.0  # use dropout regularization (classify train only)
"""
modelï¼šæ¨¡å‹æ–‡ä»¶çš„è·¯å¾„ï¼Œä¾‹å¦‚ yolov8n.ptã€yolov8n.yamlã€‚
dataï¼šæ•°æ®æ–‡ä»¶çš„è·¯å¾„ï¼Œä¾‹å¦‚ coco128.yamlã€‚
epochsï¼šè®­ç»ƒçš„è½®æ•°ã€‚
patienceï¼šå¦‚æœæ²¡æœ‰è§‚å¯Ÿåˆ°æ”¹è¿›ï¼Œåˆ™ç­‰å¾…çš„è½®æ•°ï¼Œä»¥ä¾¿æå‰åœæ­¢è®­ç»ƒã€‚
batchï¼šæ¯æ‰¹æ¬¡å¤„ç†çš„å›¾åƒæ•°é‡ï¼ˆ-1 ä¸ºè‡ªåŠ¨æ‰¹å¤„ç†ï¼‰ã€‚
imgszï¼šè¾“å…¥å›¾åƒçš„å¤§å°ï¼ˆæ•´æ•°æˆ– w,hï¼‰ã€‚
saveï¼šæ˜¯å¦ä¿å­˜è®­ç»ƒæ£€æŸ¥ç‚¹å’Œé¢„æµ‹ç»“æœã€‚
cacheï¼šæ˜¯å¦ä½¿ç”¨ç¼“å­˜æ¥åŠ è½½æ•°æ®ã€‚
deviceï¼šè¿è¡Œæ¨¡å‹çš„è®¾å¤‡ï¼Œä¾‹å¦‚ cuda device=0 æˆ– device=0,1,2,3 æˆ– device=cpuã€‚
workersï¼šæ•°æ®åŠ è½½çš„å·¥ä½œçº¿ç¨‹æ•°ã€‚
projectï¼šé¡¹ç›®åç§°ã€‚
nameï¼šå®éªŒåç§°ã€‚
exist_okï¼šæ˜¯å¦è¦†ç›–ç°æœ‰å®éªŒã€‚
pretrainedï¼šæ˜¯å¦ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ã€‚
optimizerï¼šä¼˜åŒ–å™¨ç±»å‹ï¼Œå¯é€‰é¡¹ä¸º['SGD', 'Adam', 'AdamW', 'RMSProp']ã€‚
verboseï¼šæ˜¯å¦æ‰“å°è¯¦ç»†è¾“å‡ºã€‚
seedï¼šç”¨äºé‡ç°ç»“æœçš„éšæœºç§å­ã€‚
deterministicï¼šæ˜¯å¦å¯ç”¨ç¡®å®šæ€§æ¨¡å¼ã€‚
single_clsï¼šå°†å¤šç±»æ•°æ®è§†ä¸ºå•ç±»è¿›è¡Œè®­ç»ƒã€‚
image_weightsï¼šä½¿ç”¨åŠ æƒå›¾åƒé€‰æ‹©è¿›è¡Œè®­ç»ƒã€‚
rectï¼šæ”¯æŒçŸ©å½¢è®­ç»ƒã€‚
cos_lrï¼šä½¿ç”¨ä½™å¼¦å­¦ä¹ ç‡è°ƒåº¦ç¨‹åºã€‚
close_mosaicï¼šåœ¨æœ€å 10 è½®ç¦ç”¨æ‹¼è´´å¢å¼ºã€‚
resumeï¼šä»ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹æ¢å¤è®­ç»ƒã€‚
overlap_maskï¼šåœ¨è®­ç»ƒæœŸé—´ï¼Œæ©ç åº”è¯¥é‡å ï¼ˆä»…é€‚ç”¨äºåˆ†å‰²è®­ç»ƒï¼‰ã€‚
mask_ratioï¼šæ©ç ä¸‹é‡‡æ ·æ¯”ç‡ï¼ˆä»…é€‚ç”¨äºåˆ†å‰²è®­ç»ƒï¼‰ã€‚
dropoutï¼šä½¿ç”¨ dropout æ­£åˆ™åŒ–ï¼ˆä»…é€‚ç”¨äºåˆ†ç±»è®­ç»ƒï¼‰ã€‚
"""
# Val/Test settings ----------------------------------------------------------------------------------------------------
val: True  # validate/test during training
save_json: False  # save results to JSON file
save_hybrid: False  # save hybrid version of labels (labels + additional predictions)
conf:  # object confidence threshold for detection (default 0.25 predict, 0.001 val)
iou: 0.7  # intersection over union (IoU) threshold for NMS
max_det: 300  # maximum number of detections per image
half: False  # use half precision (FP16)
dnn: False  # use OpenCV DNN for ONNX inference
plots: True  # save plots during train/val
"""
val: True è¡¨ç¤ºåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡ŒéªŒè¯/æµ‹è¯•
save_json: False è¡¨ç¤ºä¸å°†ç»“æœä¿å­˜ä¸º JSON æ–‡ä»¶
save_hybrid: False è¡¨ç¤ºä¸ä¿å­˜æ ‡ç­¾å’Œå…¶ä»–é¢å¤–é¢„æµ‹çš„æ··åˆç‰ˆæœ¬
conf: æ˜¯ä¸€ä¸ªå¯¹è±¡ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œç”¨äºæ£€æµ‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º 0.25ï¼ˆé¢„æµ‹æ—¶ï¼‰å’Œ 0.001ï¼ˆéªŒè¯æ—¶ï¼‰
iou: æ˜¯ NMSï¼ˆéæå¤§å€¼æŠ‘åˆ¶ï¼‰çš„äº¤å¹¶æ¯”é˜ˆå€¼ï¼Œé»˜è®¤ä¸º 0.7
max_det: æ˜¯æ¯å¼ å›¾åƒæœ€å¤§æ£€æµ‹æ•°ï¼Œé»˜è®¤ä¸º 300
half: False è¡¨ç¤ºä¸ä½¿ç”¨åŠç²¾åº¦ï¼ˆFP16ï¼‰
dnn: False è¡¨ç¤ºä¸ä½¿ç”¨ OpenCV DNN è¿›è¡Œ ONNX æ¨ç†
plots: True è¡¨ç¤ºåœ¨è®­ç»ƒ/éªŒè¯è¿‡ç¨‹ä¸­ä¿å­˜ç»˜å›¾ç»“æœã€‚
"""
# Prediction settings --------------------------------------------------------------------------------------------------
source:  # source directory for images or videoså¾…å¤„ç†çš„å›¾åƒæˆ–è§†é¢‘æ‰€åœ¨çš„æºç›®å½•ã€‚
show: False  # show results if possible
save_txt: False  # save results as .txt file
save_conf: False  # save results with confidence scores
save_crop: False  # save cropped images with resultsæ˜¯å¦ä¿å­˜å¸¦æœ‰æ£€æµ‹ç»“æœçš„è£å‰ªå›¾åƒ
hide_labels: False  # hide labels
hide_conf: False  # hide confidence scores
vid_stride: 1  # video frame-rate stride
line_thickness: 3  # bounding box thickness (pixels)
visualize: False  # visualize model features
augment: False  # apply image augmentation to prediction sources
agnostic_nms: False  # class-agnostic NMS
classes:  # filter results by class, i.e. class=0, or class=[0,2,3]
retina_masks: False  # use high-resolution segmentation masks
boxes: True # Show boxes in segmentation predictions
"""
sourceï¼šå¾…å¤„ç†çš„å›¾åƒæˆ–è§†é¢‘æ‰€åœ¨çš„æºç›®å½•ã€‚
showï¼šå¦‚æœå¯èƒ½ï¼Œæ˜¯å¦æ˜¾ç¤ºæ£€æµ‹ç»“æœã€‚
save_txtï¼šæ˜¯å¦å°†æ£€æµ‹ç»“æœä¿å­˜ä¸º .txt æ–‡ä»¶ã€‚
save_confï¼šæ˜¯å¦å°†å¸¦æœ‰ç½®ä¿¡åº¦åˆ†æ•°çš„æ£€æµ‹ç»“æœä¿å­˜ã€‚
save_cropï¼šæ˜¯å¦ä¿å­˜å¸¦æœ‰æ£€æµ‹ç»“æœçš„è£å‰ªå›¾åƒã€‚
hide_labelsï¼šæ˜¯å¦éšè—æ ‡ç­¾ã€‚
hide_confï¼šæ˜¯å¦éšè—ç½®ä¿¡åº¦åˆ†æ•°ã€‚
vid_strideï¼šè§†é¢‘å¸§ç‡æ­¥é•¿ã€‚
line_thicknessï¼šè¾¹ç•Œæ¡†åšåº¦ï¼ˆåƒç´ ï¼‰ã€‚
visualizeï¼šæ˜¯å¦å¯è§†åŒ–æ¨¡å‹ç‰¹å¾ã€‚
augmentï¼šæ˜¯å¦å¯¹é¢„æµ‹æºåº”ç”¨å›¾åƒå¢å¼ºã€‚
agnostic_nmsï¼šæ˜¯å¦ä½¿ç”¨ç±»åˆ«æ— å…³çš„ NMSã€‚
classesï¼šæŒ‰ç±»åˆ«è¿‡æ»¤ç»“æœï¼Œä¾‹å¦‚ class=0 æˆ– class=[0,2,3]ã€‚
retina_masksï¼šæ˜¯å¦ä½¿ç”¨é«˜åˆ†è¾¨ç‡åˆ†å‰²æ©æ¨¡ã€‚
boxesï¼šæ˜¯å¦åœ¨åˆ†å‰²é¢„æµ‹ä¸­æ˜¾ç¤ºæ¡†ã€‚
"""
# Export settings ------------------------------------------------------------------------------------------------------
format: torchscript  # format to export to
keras: False  # use Keras
optimize: False  # TorchScript: optimize for mobile
int8: False  # CoreML/TF INT8 quantization
dynamic: False  # ONNX/TF/TensorRT: dynamic axes
simplify: False  # ONNX: simplify model
opset:  # ONNX: opset version (optional)
workspace: 4  # TensorRT: workspace size (GB)
nms: False  # CoreML: add NMS
"""
formatï¼šå¯¼å‡ºæ¨¡å‹çš„æ ¼å¼ï¼Œä¾‹å¦‚ torchscriptã€‚
kerasï¼šæ˜¯å¦ä½¿ç”¨ Kerasã€‚
optimizeï¼šæ˜¯å¦ä¸ºç§»åŠ¨è®¾å¤‡è¿›è¡Œ TorchScript ä¼˜åŒ–ã€‚
int8ï¼šæ˜¯å¦è¿›è¡Œ CoreML/TF INT8 é‡åŒ–ã€‚
dynamicï¼šæ˜¯å¦å¯ç”¨ ONNX/TF/TensorRT çš„åŠ¨æ€è½´ã€‚
simplifyï¼šæ˜¯å¦ç®€åŒ– ONNX æ¨¡å‹ã€‚
opsetï¼šONNX çš„ opset ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰ã€‚
workspaceï¼šTensorRT çš„å·¥ä½œç©ºé—´å¤§å°ï¼ˆGBï¼‰ã€‚
nmsï¼šæ˜¯å¦åœ¨ CoreML ä¸­æ·»åŠ  NMSï¼ˆéæå¤§å€¼æŠ‘åˆ¶ï¼‰ã€‚
"""
# Hyperparameters ------------------------------------------------------------------------------------------------------
lr0: 0.01  # initial learning rate (i.e. SGD=1E-2, Adam=1E-3)
lrf: 0.01  # final learning rate (lr0 * lrf)
momentum: 0.937  # SGD momentum/Adam beta1
weight_decay: 0.0005  # optimizer weight decay 5e-4
warmup_epochs: 3.0  # warmup epochs (fractions ok)
warmup_momentum: 0.8  # warmup initial momentum
warmup_bias_lr: 0.1  # warmup initial bias lr
box: 7.5  # box loss gain
cls: 0.5  # cls loss gain (scale with pixels)
dfl: 1.5  # dfl loss gain
fl_gamma: 0.0  # focal loss gamma (efficientDet default gamma=1.5)
label_smoothing: 0.0  # label smoothing (fraction)
nbs: 64  # nominal batch size
hsv_h: 0.015  # image HSV-Hue augmentation (fraction)
hsv_s: 0.7  # image HSV-Saturation augmentation (fraction)
hsv_v: 0.4  # image HSV-Value augmentation (fraction)
degrees: 0.0  # image rotation (+/- deg)
translate: 0.1  # image translation (+/- fraction)
scale: 0.5  # image scale (+/- gain)
shear: 0.0  # image shear (+/- deg)
perspective: 0.0  # image perspective (+/- fraction), range 0-0.001
flipud: 0.0  # image flip up-down (probability)
fliplr: 0.5  # image flip left-right (probability)
mosaic: 1.0  # image mosaic (probability)
mixup: 0.0  # image mixup (probability)
copy_paste: 0.0  # segment copy-paste (probability)
"""
lr0ï¼šåˆå§‹å­¦ä¹ ç‡ï¼ˆä¾‹å¦‚ SGD=1E-2ï¼ŒAdam=1E-3ï¼‰ã€‚
lrfï¼šæœ€ç»ˆå­¦ä¹ ç‡ï¼ˆlr0 * lrfï¼‰ã€‚
momentumï¼šSGD åŠ¨é‡/Adam beta1ã€‚
weight_decayï¼šä¼˜åŒ–å™¨æƒé‡è¡°å‡ 5e-4ã€‚
warmup_epochsï¼šé¢„çƒ­è½®æ•°ã€‚
warmup_momentumï¼šé¢„çƒ­åˆå§‹åŠ¨é‡ã€‚
warmup_bias_lrï¼šé¢„çƒ­åˆå§‹åç½®å­¦ä¹ ç‡ã€‚
boxï¼šæ¡†æŸå¤±å¢ç›Šã€‚
clsï¼šåˆ†ç±»æŸå¤±å¢ç›Šï¼ˆä¸åƒç´ æˆæ¯”ä¾‹ï¼‰ã€‚
dflï¼šDfl æŸå¤±å¢ç›Šã€‚
fl_gammaï¼šfocal loss gammaï¼ˆefficientDet é»˜è®¤ gamma=1.5ï¼‰ã€‚
label_smoothingï¼šæ ‡ç­¾å¹³æ»‘ï¼ˆåˆ†æ•°ï¼‰ã€‚
nbsï¼šæ‰¹æ¬¡å¤§å°ã€‚
hsv_hï¼šå›¾åƒ HSV-Hue å¢å¼ºï¼ˆåˆ†æ•°ï¼‰ã€‚
hsv_sï¼šå›¾åƒ HSV-Saturation å¢å¼ºï¼ˆåˆ†æ•°ï¼‰ã€‚
hsv_vï¼šå›¾åƒ HSV-Value å¢å¼ºï¼ˆåˆ†æ•°ï¼‰ã€‚
degreesï¼šå›¾åƒæ—‹è½¬ï¼ˆ+/- åº¦ï¼‰ã€‚
translateï¼šå›¾åƒå¹³ç§»ï¼ˆ+/- åˆ†æ•°ï¼‰ã€‚
scaleï¼šå›¾åƒç¼©æ”¾ï¼ˆ+/- å¢ç›Šï¼‰ã€‚
shearï¼šå›¾åƒå‰ªåˆ‡ï¼ˆ+/- åº¦ï¼‰ã€‚
perspectiveï¼šå›¾åƒé€è§†ï¼ˆ+/- åˆ†æ•°ï¼‰ï¼ŒèŒƒå›´ 0-0.001ã€‚
flipudï¼šå›¾åƒä¸Šä¸‹ç¿»è½¬çš„æ¦‚ç‡ã€‚
fliplrï¼šå›¾åƒå·¦å³ç¿»è½¬çš„æ¦‚ç‡ã€‚
mosaicï¼šå›¾åƒæ‹¼è´´çš„æ¦‚ç‡ã€‚
mixupï¼šå›¾åƒæ··åˆçš„æ¦‚ç‡ã€‚
copy_pasteï¼šåˆ†å‰²å¤åˆ¶-ç²˜è´´çš„æ¦‚ç‡ã€‚
"""
# Custom config.yaml ---------------------------------------------------------------------------------------------------
cfg:  # for overriding defaults.yaml

# Debug, do not modify -------------------------------------------------------------------------------------------------
v5loader: False  # use legacy YOLOv5 dataloader
